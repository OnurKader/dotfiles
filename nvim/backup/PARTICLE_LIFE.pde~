import java.util.List;

List<Particle> particles;


void setup(){
  size(1280, 720);
  smooth(4);
  particles = new ArrayList<Particle>();
  for(int i = 0; i < 100; i++){
    particles.add(new Particle());
  }
}

void mousePressed(){
  PVector mouse = new PVector(mouseX, mouseY);
  for(Particle part: particles){
   PVector away = PVector.sub(part.pos, mouse);
   if(away.magSq() < 750){
    away.normalize();
    part.applyForce(away);
   }
  }
}

void mouseDragged(){
  PVector mouse = new PVector(mouseX, mouseY);
  for(Particle part: particles){
   PVector away = PVector.sub(part.pos, mouse);
   if(away.magSq() < 750){
    away.normalize();
    part.applyForce(away);
   }
  }
}

void particle(){
   for (int i = particles.size() - 1; i >= 0; i--) {
      for (int j = particles.size() - 1; j >= 0; j--) {
        if(i != j && particles.get(j) != null){
          particles.get(i).attract(particles.get(j));
        }
      }

      if(particles.get(i) != null){
        particles.get(i).update();
        particles.get(i).show();
     }
  }
}

void draw(){
  background(0);
  particle();

}



