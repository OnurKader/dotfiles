package com.Final;

import java.awt.BasicStroke;
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.util.Timer;
import java.util.TimerTask;

import javax.swing.JFrame;
import javax.swing.JPanel;

public class Time extends JPanel
{
	private static final long serialVersionUID = 2897790091646469192L;
	private static Timer timer;
	private static TimerTask tt;
	private double s_radius = 186.0d, m_radius = 168.0d, h_radius = 152.0d;
	private double s_angle = -Math.PI/2.0d;
	private double m_angle = -Math.PI/2.0d;
	private double h_angle = -Math.PI/2.0d;

	private double deg2rad(double degrees) {
		return degrees*Math.PI/180.0d;
	}

	private int seconds() {
		return (int) ((System.currentTimeMillis()/1000) % 60);
	}

	private int minutes() {
		return (int)(System.currentTimeMillis()/(60*1000) % 60);
	}

	private int hours() {
		return (int)(System.currentTimeMillis()/(1000*60*60) % 24) + 3;
	}

	public void paintComponent(Graphics g) {
		super.paintComponents(g);
		Graphics2D g2d = (Graphics2D)g;

		// Background
		g2d.setColor(new Color(40, 100, 185));
		g2d.fillRect(0, 0, 800, 800);

		// Stroke of the Clock
		g2d.setColor(Color.BLACK);
		g2d.fillOval(195, 195, 410, 410);

		// The Clock
		g2d.setColor(Color.WHITE);
		g2d.fillOval(200, 200, 400, 400);

		// Hour Indicator
		g2d.setColor(Color.BLACK);
		g2d.setStroke(new BasicStroke(3));
		g2d.drawLine(400, 204, 400, 214);
		g2d.drawLine(400, 586, 400, 596);
		g2d.drawLine(584, 400, 594, 400);
		g2d.drawLine(204, 400, 214, 400);

		// Seconds Hand
		g2d.setColor(Color.RED);
		g2d.setStroke(new BasicStroke(5));
		g2d.drawLine(400, 400, (int)(400 + s_radius*Math.cos(s_angle)), (int)(400 + s_radius*Math.sin(s_angle)));
		s_angle = deg2rad((seconds()+1) * 6) - Math.PI/2.0d;

		// Minutes Hand
		g2d.setColor(new Color(27, 27, 27));
		g2d.setStroke(new BasicStroke(8));
		g2d.drawLine(400, 400, (int)(400 + m_radius * Math.cos(m_angle)), (int)(400 + m_radius * Math.sin(m_angle)));
		m_angle = deg2rad(minutes() * 6) - Math.PI/2.0d;

		// Hours Hand
		g2d.setColor(Color.BLACK);
		g2d.setStroke(new BasicStroke(10));
		g2d.drawLine(400, 400, (int)(400 + h_radius * Math.cos(h_angle)), (int)(400 + h_radius * Math.sin(h_angle)));
		h_angle = deg2rad(hours() * 30) - Math.PI/2.0d;

		System.out.println("" + hours() + ":" + minutes() + ":" + seconds());
	}

	public static void main(String[] args)
	{
		JFrame frame = new JFrame("Clock for Final");
		frame.setSize(800, 800);
		frame.setLocationRelativeTo(null);
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		JPanel panel = new Time();
		frame.setResizable(false);
		frame.getContentPane().add(panel, BorderLayout.CENTER);
		frame.setVisible(true);

		timer = new Timer();
		tt = new TimerTask() {
			public void run() {
				panel.repaint();
			}
		};
		timer.scheduleAtFixedRate(tt, 1000, 1000);
	}
}
